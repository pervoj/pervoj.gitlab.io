{%- import "l10n.html" as l10n -%}

<!DOCTYPE html>
<html lang="{{ lang }}">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<meta name="description" content="{{ l10n::get(key = 'hp_title') }}" />
		<meta name="author" content="Vojtěch Perník" />
		<meta
			name="keywords"
			content="Programming, FOSS, OSS, Open Source, Software, Linux, GNOME, GTK, Web Development"
		/>

		{% block metatags -%}
		<meta
			property="og:title"
			content="
			{%- if page.title -%}
				{{ page.title }} –
			{%- elif section.title -%}
				{{ section.title }} –
			{%- endif %} pervoj"
		/>
		<meta
			property="og:image"
			content="{{ get_url(path='images/icon-512.png') }}"
		/>
		{%- endblock %} {% if lang == "en" -%} {%- set rss = "atom.xml" -%} {%-
		else -%} {%- set rss = "cs/atom.xml" -%} {%- endif -%}
		<link
			rel="alternate"
			type="application/atom+xml"
			href="{{ get_url(path = rss) }}"
		/>
		<link
			rel="alternate"
			hreflang="en"
			href="{{ l10n::current_url(l = 'en') }}"
		/>
		<link
			rel="alternate"
			hreflang="cs"
			href="{{ l10n::current_url(l = 'cs') }}"
		/>
		<link rel="manifest" href="{{ get_url(path='site.webmanifest') }}" />
		<link rel="icon" href="{{ get_url(path='images/icon.svg') }}" />
		<link rel="stylesheet" href="https://pervoj.cz/nuclear/nuclear.css" />
		<link rel="stylesheet" href="{{ get_url(path='styles.css') }}" />

		<script src="https://pervoj.cz/nuclear/nuclear.js" async></script>

		<script>
			// https://counter.dev/
			if (
				!sessionStorage.getItem("_swa") &&
				document.referrer.indexOf(
					location.protocol + "//" + location.host
				) !== 0
			) {
				fetch(
					"https://counter.dev/track?" +
						new URLSearchParams({
							referrer: document.referrer,
							screen: screen.width + "x" + screen.height,
							user: "pervoj",
							utcoffset: "2",
						})
				);
			}
			sessionStorage.setItem("_swa", "1");
		</script>

		<title>
			{%- if page.title -%} {{ page.title }} – {%- elif section.title -%}
			{{ section.title }} – {%- endif %} pervoj
		</title>
	</head>
	<body>
		<a href="#main-content" class="skip-to-content">Skip to Content</a>

		{% include "partials/navbar.html" %} {% block content %}{% endblock %}
	</body>
</html>
